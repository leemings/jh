<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0040)http://midautumn.51.net/files/tiange.htm -->
<HTML><HEAD><TITLE>动脑小游戏</TITLE>
<STYLE type=text/css>BODY {
	FONT-FAMILY: "宋体"; FONT-SIZE: 9pt; MARGIN-LEFT: 0px; MARGIN-RIGHT: 0px; MARGIN-TOP: 0px
}
A {
	COLOR: black; FONT-SIZE: 13px; FONT-WEIGHT: 400; TEXT-DECORATION: none
}
A:hover {
	COLOR: red; FONT-SIZE: 13px; FONT-WEIGHT: 400; TEXT-DECORATION: underline
}
A:active {
	COLOR: #ff0033; CURSOR: hand; FONT: 9pt "宋体"
}
</STYLE>

<META content="text/html; charset=gb2312" http-equiv=Content-Type>
<SCRIPT>
function ShowMenu(bMenu) {
document.all.idFinder.style.display = (bMenu) ? "none" : "block" 
document.all.idMenu.style.display = (bMenu) ? "block" : "none"
idML.className = (bMenu) ? "cOn" : "cOff"
idRL.className = (bMenu) ? "cOff" : "cOn"
return false
}
</SCRIPT>

<STYLE>A.cOn {
	FONT-WEIGHT: bolder; TEXT-DECORATION: none
}
#article {
	BACKGROUND: white; COLOR: black; FONT: 12pt Verdana, geneva, arial, sans-serif; PADDING-BOTTOM: 0px; PADDING-LEFT: 5pt; PADDING-RIGHT: 15pt; PADDING-TOP: 10pt
}
#article P.start {
	TEXT-INDENT: 0pt
}
#article P {
	FONT-SIZE: 10pt; MARGIN-TOP: 0pt; TEXT-INDENT: 12pt
}
#article #author {
	FONT-STYLE: italic; MARGIN-BOTTOM: 5pt; TEXT-INDENT: 0pt
}
#pageList P {
	PADDING-TOP: 10pt
}
#article H3 {
	FONT-WEIGHT: bold
}
#article DL {
	FONT-SIZE: 10pt
}
UL {
	FONT-SIZE: 10pt
}
OL {
	FONT-SIZE: 10pt
}
</STYLE>

<SCRIPT>
<!--
function addList(url,desc) {
if ((navigator.appName=="Netscape") || (parseInt(navigator.appVersion)>=4)) {
var w=window.open("","_IDHTML_LIST_","top=0,left=0,width=475,height=150,history=no,menubar=no,status=no,resizable=no")
var d=w.document
if (!w._init) {
d.open()
d.write("<TITLE>Loading...</TITLE><EM>Loading...</EM>")
d.close()
d.location.replace("/assist/listing.asp?url="+escape(url)+"&desc="+escape(desc))  
w.opener=self    
window.status="Personal Assistant (Adding): " + desc
} else {
window.status=w.addOption(url,desc)    
w.focus()
}
}
else
alert("Your browser does not support the personal assistant.")
return false
}
// -->
</SCRIPT>

<STYLE>#board {
	CURSOR: default
}
#board TD {
	HEIGHT: 25px; WIDTH: 25px
}
</STYLE>

<META content="MSHTML 5.00.2614.3500" name=GENERATOR></HEAD>
<BODY bgColor=#fef4d9>
<SCRIPT>
    var size=10
    var moves = 0
    var off = size*2
    var on = 0
    var current = null
    function doOver() {
      if ((event.srcElement.tagName=="TD") && (current!=event.srcElement)) {
        if (current!=null)
          current.style.backgroundColor = current._background
        event.srcElement._background = event.srcElement.style.backgroundColor
        event.srcElement.style.backgroundColor = "lightgrey"
        current = event.srcElement
      }
    }

    function setColor(el) {
      if ((el._background=="") || (el._background==null)) {
        el.style.backgroundColor = "yellow"
        el._background = "yellow" 
      } else {
        el.style.backgroundColor = ""
        el._background = "" 
      }
    }

    function countLights() {
      off = 0; on = 0
      for (var x=0; x < size; x++) 
        for (var y=0; y < size; y++) {
          var p = board.rows[x].cells[y]
          if (p._background=="yellow")
            on++
          else
            off ++
        }
        document.all.on.innerText = on
      if (off!=0)     
        document.all.off.innerText = off
      else
        document.all.off.innerText = "You Win!"
      return (off==0)
    }

    function doClick() {
      setColor(current)     
      var cellIdx = current.cellIndex
      var rowIdx = current.parentElement.rowIndex
      if (rowIdx>0) 
        setColor(board.rows[rowIdx-1].cells[cellIdx])
      if (rowIdx<size-1)
        setColor(board.rows[rowIdx+1].cells[cellIdx])
      if (cellIdx>0) 
        setColor(board.rows[rowIdx].cells[cellIdx-1])
      if (cellIdx<size-1)
        setColor(board.rows[rowIdx].cells[cellIdx+1])
      moves++
      document.all.moves.innerText = moves
      win = countLights()
      if (win) {
        board.onclick = null
        board.onmouseover = null
        current.style.background = "yellow"
      }
    }

    function buildBoard() {
      var str = "<TABLE ID=board ONSELECTSTART=\"return false\" ONCLICK=\"doClick()\" ONMOUSEOVER=\"doOver()\" cellspacing=0 cellpadding=0 border=5>"
      for (var x=0; x < size; x++) {
        str+="<TR>"
        for (var y=0; y < size; y++) {
          str+="<TD>&nbsp;</TD>"
        } 
        str+="</TR>"
      }
      str+="</TABLE>"
      return str
    }

    function newGame() {
      size = document.all.gameSize.value
      if (size<3)
        size=3
      if (size>15)
        size=15
      document.all.gameSize.value = size
      document.all.board.outerHTML = buildBoard()
      moves=0
      document.all.moves.innerText = moves
      countLights()
 
    }
    
  </SCRIPT>
<BR><BR>
<CENTER><FONT color=red face=隶书 size=6>动脑小游戏</FONT></CENTER><BR>
<CENTER><BR><BR>
<CENTER>
<TABLE border=5 borderColor=blue borderlight="green">
  <TBODY>
  <TR>
    <TD align=middle><FONT color=red face="Arial, Helvetica, sans-serif" 
      size=5><STRONG>下面为效果显示区!</STRONG></FONT></TD></TR>
  <TR>
    <TD align=middle height=100>
      <P align=center><BIG><FONT 
      color=#0000ff>在方格上点击，你可以将下面的方格全部填成黄色吗</FONT><STRONG><FONT 
      color=#ff0000><BIG><BIG>？</BIG></BIG></FONT></STRONG></BIG></P>
      <P align=center><FONT color=#0000ff>快开动你智慧脑筋，看看有什么技巧与规律。</FONT></P>
      <TABLE border=1 width="100%">
        <TBODY>
        <TR>
          <TD width="50%">
            <DIV align=right>
            <TABLE border=0 id=score width=284>
              <TBODY>
              <TR>
                <TD width=52>移动: </TD>
                <TD id=moves width=33>0</TD>
                <TD width=42>灯灭:</TD>
                <TD id=off width=36>25</TD>
                <TD width=46>灯亮:</TD>
                <TD id=on width=39>0</TD></TR></TBODY></TABLE></DIV></TD>
          <TD width="50%">
            <DIV align=left>
            <TABLE width=204>
              <TBODY>
              <TR>
                <TD width=54>大小: </TD>
                <TD width=41><INPUT id=gameSize size=2 value=10></TD>
                <TD 
                width=97><INPUT onclick=newGame() type=button value=开始游戏></TD></TR></TBODY></TABLE></DIV></TD></TR></TBODY></TABLE>
      <P align=center>
      <SCRIPT>
    document.write(buildBoard())
  </SCRIPT>
      </P></TD></TR></TBODY></TABLE></CENTER><BR><BR>
<CENTER><TEXTAREA class=yk9 cols=45 name=source rows=12>脚本说明:
第一步:把如下代码加入&lt;head&gt;区域中
&lt;script&gt;
function ShowMenu(bMenu) {
document.all.idFinder.style.display = (bMenu) ? "none" : "block" 
document.all.idMenu.style.display = (bMenu) ? "block" : "none"
idML.className = (bMenu) ? "cOn" : "cOff"
idRL.className = (bMenu) ? "cOff" : "cOn"
return false
}
&lt;/script&gt;

&lt;style&gt;
&lt;!--
A.cOn {text-decoration:none;font-weight:bolder}
#article {font: 12pt Verdana, geneva, arial, sans-serif;  background: white; color: black; padding: 10pt 15pt 0 5pt}
#article P.start {text-indent: 0pt}
#article P {margin-top:0pt;font-size:10pt;text-indent:12pt}
#article #author {margin-bottom:5pt;text-indent:0pt;font-style: italic}
#pageList P {padding-top:10pt}
#article H3 {font-weight:bold}
#article DL, UL, OL {font-size: 10pt}
--&gt;
&lt;/style&gt;
&lt;script&gt;
&lt;!--
function addList(url,desc) {
if ((navigator.appName=="Netscape") || (parseInt(navigator.appVersion)&gt;=4)) {
var w=window.open("","_IDHTML_LIST_","top=0,left=0,width=475,height=150,history=no,menubar=no,status=no,resizable=no")
var d=w.document
if (!w._init) {
d.open()
d.write("&lt;TITLE&gt;Loading...&lt;/TITLE&gt;&lt;EM&gt;Loading...&lt;/EM&gt;")
d.close()
d.location.replace("/assist/listing.asp?url="+escape(url)+"&amp;desc="+escape(desc))  
w.opener=self    
window.status="Personal Assistant (Adding): " + desc
} else {
window.status=w.addOption(url,desc)    
w.focus()
}
}
else
alert("Your browser does not support the personal assistant.")
return false
}
// --&gt;
&lt;/script&gt;

&lt;style&gt;
    #board {cursor: default}    
    #board TD {width: 25px; height: 25px; }
  &lt;/style&gt;



第二步:把如下代码加入&lt;body&gt;区
&lt;script&gt;
    var size=10
    var moves = 0
    var off = size*2
    var on = 0
    var current = null
    function doOver() {
      if ((event.srcElement.tagName=="TD") &amp;&amp; (current!=event.srcElement)) {
        if (current!=null)
          current.style.backgroundColor = current._background
        event.srcElement._background = event.srcElement.style.backgroundColor
        event.srcElement.style.backgroundColor = "lightgrey"
        current = event.srcElement
      }
    }

    function setColor(el) {
      if ((el._background=="") || (el._background==null)) {
        el.style.backgroundColor = "yellow"
        el._background = "yellow" 
      } else {
        el.style.backgroundColor = ""
        el._background = "" 
      }
    }

    function countLights() {
      off = 0; on = 0
      for (var x=0; x &lt; size; x++) 
        for (var y=0; y &lt; size; y++) {
          var p = board.rows[x].cells[y]
          if (p._background=="yellow")
            on++
          else
            off ++
        }
        document.all.on.innerText = on
      if (off!=0)     
        document.all.off.innerText = off
      else
        document.all.off.innerText = "You Win!"
      return (off==0)
    }

    function doClick() {
      setColor(current)     
      var cellIdx = current.cellIndex
      var rowIdx = current.parentElement.rowIndex
      if (rowIdx&gt;0) 
        setColor(board.rows[rowIdx-1].cells[cellIdx])
      if (rowIdx&lt;size-1)
        setColor(board.rows[rowIdx+1].cells[cellIdx])
      if (cellIdx&gt;0) 
        setColor(board.rows[rowIdx].cells[cellIdx-1])
      if (cellIdx&lt;size-1)
        setColor(board.rows[rowIdx].cells[cellIdx+1])
      moves++
      document.all.moves.innerText = moves
      win = countLights()
      if (win) {
        board.onclick = null
        board.onmouseover = null
        current.style.background = "yellow"
      }
    }

    function buildBoard() {
      var str = "&lt;TABLE ID=board ONSELECTSTART=\"return false\" ONCLICK=\"doClick()\" ONMOUSEOVER=\"doOver()\" cellspacing=0 cellpadding=0 border=5&gt;"
      for (var x=0; x &lt; size; x++) {
        str+="&lt;TR&gt;"
        for (var y=0; y &lt; size; y++) {
          str+="&lt;TD&gt;&nbsp;&lt;/TD&gt;"
        } 
        str+="&lt;/TR&gt;"
      }
      str+="&lt;/TABLE&gt;"
      return str
    }

    function newGame() {
      size = document.all.gameSize.value
      if (size&lt;3)
        size=3
      if (size&gt;15)
        size=15
      document.all.gameSize.value = size
      document.all.board.outerHTML = buildBoard()
      moves=0
      document.all.moves.innerText = moves
      countLights()
 
    }
    
  &lt;/script&gt;
  &lt;p align="center"&gt;&lt;big&gt;&lt;font color="#0000FF"&gt;在方格上点击，你可以将下面的方格全部填成黄色吗&lt;/font&gt;&lt;strong&gt;&lt;font
color="#FF0000"&gt;&lt;big&gt;&lt;big&gt;？&lt;/big&gt;&lt;/big&gt;&lt;/font&gt;&lt;/strong&gt;&lt;/big&gt;&lt;/p&gt;

&lt;p align="center"&gt;&lt;font color="#0000FF"&gt;快开动你智慧脑筋，看看有什么技巧与规律。&lt;/font&gt;&lt;/p&gt;

&lt;table border="1" width="100%"&gt;
  &lt;tr&gt;
    &lt;td width="50%"&gt;&lt;div align="right"&gt;&lt;table ID="score" border="0" width="284"&gt;
      &lt;tr&gt;
        &lt;td width="52"&gt;移动: &lt;/td&gt;
        &lt;td id="moves" width="33"&gt;0&lt;/td&gt;
        &lt;td width="42"&gt;灯灭:&lt;/td&gt;
        &lt;td id="off" width="36"&gt;25&lt;/td&gt;
        &lt;td width="46"&gt;灯亮:&lt;/td&gt;
        &lt;td id="on" width="39"&gt;0&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
    &lt;/div&gt;&lt;/td&gt;
    &lt;td width="50%"&gt;&lt;div align="left"&gt;&lt;table width="204"&gt;
      &lt;tr&gt;
        &lt;td width="54"&gt;大小: &lt;/td&gt;
        &lt;td width="41"&gt;&lt;input ID="gameSize" TYPE="text" VALUE="10" SIZE="2"&gt;&lt;/td&gt;
        &lt;td width="97"&gt;&lt;input ONCLICK="newGame()" TYPE="button" VALUE="开始游戏"&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
    &lt;/div&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

&lt;p align="center"&gt;&lt;script&gt;
    document.write(buildBoard())
  &lt;/script&gt;&lt;/p&gt;
  </TEXTAREA>
<SCRIPT language=JavaScript>

<!-- hide

function goHist(a) 

{

   history.go(a);

}

//-->

</SCRIPT>
 
<FORM method=post><INPUT onclick=goHist(-1) style="BACKGROUND-COLOR: #8000ff; COLOR: rgb(255,255,255)" type=button value=返回> 
</FORM></CENTER><BR><BR></NOSCRIPT><!-- banner  --></NOSCRIPT>
<SCRIPT language=JavaScript>
<!--
  if (parent.name != 'vh4t8jkn34') {
   window.open("/bannercode?code=embed", "vh4t8jkn34", "resizable=yes,width=500,height=160");
  }
//-->
</SCRIPT>
</CENTER></BODY></HTML>
